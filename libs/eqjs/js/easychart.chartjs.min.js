(function(n,t){var i=t.EQ=t.EQ||{};i.view=i.view||{};i.view.chartProvider={_dataTable:null,_labelColumn:null,_dataColumns:[],_chartType:10,_colors:["#4dc9f6","#f67019","#f53794","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"],chartTypes:{"3":{name:"Column chart"},"5":{name:"Bar chart"},"9":{name:"Line chart"},"10":{name:"Pie chart",chartAreaWidth:"100%"}},init:function(n,t,i,r){this._dataTable=n;this._chartType=t;this._labelColumn=i;this._dataColumns=r;this._labelColumn!=null&&this._dataColumns&&this._dataColumns.length>0&&this.updateChartColumns()},setType:function(n){this._chartType=n},setLabelColumn:function(n){this._labelColumn=n},setDataColumns:function(n){this._dataColumns=n},updateChartColumns:function(){if(this._dataTable){this._chartLabels=[];this._chartColumns=[];for(var n=0;n<this._dataTable.getNumberOfRows();n++)this._chartLabels.push(this._dataTable.getFormattedValue(n,this._labelColumn)),this._chartColumns.push(this._dataTable.getFormattedValue(n,this._dataColumns[0]))}},draw:function(n){if(this._dataTable!=null&&this._dataTable.getNumberOfRows()>0){var i=this._generateConfig(),r=n.get(0).lastElementChild.getContext("2d");t.myPie=new Chart(r,i)}},preparePlaceholder:function(n){return n.append('<canvas id="chart-area" />')},_generateConfig:function(){var n=[],f=this._dataTable.getColumnLabel(this._dataColumns[0]),i=!0,r=!0,u,t;if(this._chartType===10)for(i=!1,t=0;t<this._chartLabels.length;t++)n.push(this._colors[t%this._colors.length]);else n=this._colors[3];return this._chartType===9&&(r=!1,u=n),{type:this._getChartType(),data:{datasets:[{data:this._chartColumns,backgroundColor:n,borderColor:u,label:f,fill:r}],labels:this._chartLabels},options:{legend:{display:i}}}},getProviderType:function(){return"chartjs"},_randomColor:function(){var n=Math.round(Math.random()*10)%this._colors.length;return this._colors[n]},_getChartType:function(){switch(this._chartType){case 3:return"bar";case 5:return"horizontalBar";case 9:return"line";case 10:return"pie";default:return"pie"}}}})(jQuery,window);